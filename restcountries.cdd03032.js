const t={form:document.querySelector(".js-search"),formContainer:document.querySelector(".js-form-container"),addField:document.querySelector(".js-add"),list:document.querySelector(".js-list")};t.addField.addEventListener("click",(function(){t.formContainer.insertAdjacentHTML("beforeend",'<input type="text" name="country" />')})),t.form.addEventListener("submit",(async function(e){e.preventDefault();const n=new FormData(e.currentTarget).getAll("country").map((t=>t.trim())).filter((t=>t));try{const a=await async function(t){const e="https://restcountries.com/v3.1/name/",n=await t.map((async t=>(await fetch(`${e}${t}`)).json()));return(await Promise.allSettled(n)).filter((({value:{status:t}})=>404!==t)).map((({value:t})=>t[0].capital[0]))}(n),c=await async function(t){const e="http://api.weatherapi.com/v1",n="/forecast.json",a="86475d72b26d4cd290e161306231007",c=await t.map((async t=>(await fetch(`${e}${n}?key=${a}&q=${t}&lang=uk`)).json()));return(await Promise.allSettled(c)).filter((({status:t})=>"fulfilled"===t)).map((({value:{current:t,location:e}})=>{const{temp_c:n,condition:{icon:a,text:c}}=t,{name:r,country:o}=e;return{country:o,name:r,text:c,icon:a,temp_c:n}}))}(a);t.list.innerHTML=c.reduce(((t,{country:e,name:n,temp_c:a,icon:c,text:r})=>t+`<li>\n        <img src="${c}" alt="${r}" />\n        <h2>${e}</h2>\n        <h2>${n}</h2>\n        <p>${r}</p>\n        <p>${a}</p>\n      </li>`),"")}catch(t){console.log(t)}finally{e.target.reset()}}));
//# sourceMappingURL=restcountries.cdd03032.js.map
